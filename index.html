<!doctype html>
<html lang="en-us">
  <head>
    <title>Roguelike Browser Boilerplate</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="description" content="Your game description goes here.">
    <link rel="icon" href="icon.png">
    <script src="https://cdn.jsdelivr.net/npm/rot-js@2/dist/rot.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/chr15m/jsfxr@42a643f/riffwave.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/chr15m/jsfxr@42a643f/sfxr.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
          rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/nes.css@2.3.0/css/nes.min.css"
          rel="stylesheet">
    <link href="style.css"
          rel="stylesheet">
  </head>
  <body>

    <!-- boilerplate splash -->
    <div class="screen" id="plate" onanimationend="showtitle()">
      <div>
        <img src="icon.png" id="logo">
        <p>Roguelike<br/>Browser<br/>Boilerplate</p>
      </div>
    </div>

    <!-- title screen -->
    <div id="title" class="screen">
      <div>
        <svg id="game-title" class="game-title-animation" viewBox="0 0 700 200">
          <defs>
            <!-- I used SVG Path Builder to get this curve. -->
            <!-- https://codepen.io/anthonydugois/pen/mewdyZ -->
            <path id="curve"
                  fill="None"
                  d="M 100 200 C 200 150 500 150 600 200"/>
            <!-- Change the font size below to fit more/less in. -->
            <text id="words"
                  stroke-width="10px"
                  style="font-size: 64px" >
              <textPath xlink:href="#curve"
                        text-anchor="middle"
                        startOffset="50%">
                <!-- Change the game title here. -->
                <tspan>My-rogue</tspan>
              </textPath>
            </text>
          </defs>
          <use href="#words" stroke="white"/>
          <use href="#words" fill="#e33"/>
        </svg>
      </div>
      <div id="options">
        <div id="menu" class="nes-container is-rounded is-dark">
          <label>
            <input type="radio"
                   value="instructions"
                   class="nes-radio is-dark"
                   name="menu-items"
                   onclick="handlemenuchange(this)"
                   onchange="handlemenuchange(this)"
                   checked/>
            <span>How to play</span>
          </label>
		  <br/>
          <label>
            <input type="radio"
                   value="settings"
                   class="nes-radio is-dark"
                   name="menu-items"
                   onclick="handlemenuchange(this)"
                   onchange="handlemenuchange(this)"/>
            <span>Settings</span>
          </label>
		  <br/>
          <label>
            <input type="radio"
                   value="credits"
                   class="nes-radio is-dark"
                   name="menu-items"
                   onclick="handlemenuchange(this)"
                   onchange="handlemenuchange(this)"/>
            <span>Credits</span>
          </label>
        </div>
      </div>
      <button id="play" class="nes-btn is-success" onclick="start();">Play</button>
    </div>

    <!-- settings screen -->
    <div id="settings" class="screen modal">
      <p>Settings</p>
      <div class="nes-container is-rounded is-dark">
        <p>Put your settings menu here.</p>
      </div>
      <button class="nes-btn is-success" onclick="hidemodal('settings')">Ok</button>
    </div>

    <!-- credits screen -->
    <div id="credits" class="screen modal">
      <p>Credits</p>
      <ul class="nes-container is-rounded is-dark">
        <p>Made with:</p>
        <li><a href="https://chr15m.itch.io/roguelike-browser-boilerplate"
               target="_blank">
          Roguelike Browser Boilerplate</a></li>
        <li>Engine is
          <a href="https://ondras.github.io/rot.js/hp/"
             target="_blank">ROT.js</a></li>
        <li>Tiles by
          <a href="https://kenney.nl/assets/micro-roguelike"
             target="_blank">kenney.nl</a></li>
        <li>Styles from
          <a href="https://nostalgic-css.github.io/NES.css/"
             target="_blank">NESS.css</a></li>
        <li>SFX from
          <a href="https://sfxr.me/"
             target="_blank">sfxr.me</a></li>
        <li>Pixel coin by
          <a href="https://opengameart.org/content/spinning-pixel-coin-0"
             target="_blank">irmirx</a></li>
      </ul>
      <button class="nes-btn is-success" onclick="hidemodal('credits')">Ok</button>
    </div>    

    <!-- instructions screen -->
    <div id="instructions" class="screen modal">
      <p>Instructions</p>
      <div class="nes-container is-rounded is-dark">
        <p>You must find The Amulet and avoid getting captured by The Monster</p>
        <p>Use the arrow keys to move around. To look in a chest move over it.</p>
      </div>
      <button class="nes-btn is-success" onclick="hidemodal('instructions')">Ok</button>
    </div>

    <!-- win screen -->
    <div id="win" class="screen modal">
      <p>Win!</p>
      <div class="nes-container is-rounded is-dark">
        <p><div class="sprite amulet"></div></p>
        <p>You found The Amulet and won the game!</p>
      </div>
      <button class="nes-btn is-success" onclick="hidemodal('win')">Ok</button>
    </div>

    <!-- win screen -->
    <div id="lose" class="screen modal">
      <p>Lose!</p>
      <div class="nes-container is-rounded is-dark">
        <div class="sprite tomb"></div>
        <p>Oh no, The Monster got you.</p>
        <p>You're dead.</p>
      </div>
      <button class="nes-btn is-success" onclick="hidemodal('lose')">Ok</button>
    </div>

    <!-- game screen -->
    <div id="game" class="screen">
      <div id="canvas"></div>
      <div id="message" class="nes-container is-rounded is-dark hide"></div>
      <div id="hud" class="nes-container is-rounded is-dark">
        <span id="hp">HP: 5</span>
        <span id="xp">XP: 2</span>
        <span id="gold">Gold: 2</span>
      </div>
    </div>

  </body>
  <script src="main.js"></script>
</html>
